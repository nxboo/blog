---
layout:     post
title:      "linux 文件系统权限笔记"
date:       2015-05-21
author:     "Bin"
tags:
    - linux
    - 笔记
---
# setuid
用户还有一个成为setuid(S)的特殊权限，它出现在X位置，setuid权限允许用户以其拥有者的权限来执行文件，即使这个可执行文件是由其它用户运行的
setuid是使用不是无限制的，为了安全，它只能应用在Linux ELF格式二进制文件上，而不能用于脚本文件

``` bash
chmod +s test
```

# 粘带位
粘带位是一种应用于目录的权限类型。通过设置粘滞位，使得只有目录的所有者才能够删除目录中的文件，即使用户组和其它用户有权限也不能删除
粘带位出现在其它用户权限中x的位置。
如果没有设置执行权限，但设置了粘滞位，那么使用t; 如果同时设置了执行权限和粘滞位，就使用T

数字表示：
* r=4
* w=2
* x=1

# chattr
修改文件在Linux第二扩展文件系统(E2fs)上的特有属性
当修改设置了'A'属性的文件时,它的atime记录不会改变.  这可以在笔记本电脑系统中避免某些磁盘I/O处理.

* 设置了'a'属性的文件只能在添加模式下打开用于写入.  只有超级用户可以设置或清除该属性.
* 设置了'c'属性的文件在磁盘上由内核自动进行压缩处理.  从该文件读取时返回的是未压缩的数据.  对该文件的一次写入会在保存它们到磁盘之前进行数据压缩.
* 设置了'd'属性的文件不能对其运行 dump(8) 程序进行备份.
* 设置了'i'属性的文件不能进行修改:你既不能删除它, 也不能给它重新命名,你不能对该文件创建链接, 而且也不能对该文件写入任何数据.  只有超级用户可以设置或清除该属性.
* 当删除设置了's'属性的文件时,将对其数据块清零 并写回到磁盘上.
* 当修改设置了'S'属性的文件时, 修改会同步写入到磁盘上;这与应用 到文件子系统上的'sync'挂载选项有相同的效果.
* 当删除设置了'u'属性的文件时, 将会保存其内容.  这使得用户可以请求恢复被删除的文件.



